{% if object_type == 'gallery' %}
    {% for tag in object.tags.all %}
        <span class="inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded">
            {{ tag.name }}
            <button type="button" hx-post="{% url 'gallery:gallery_remove_tag' object_id %}"
                    hx-vals='{"tag": "{{ tag.name }}"}'
                    hx-target="closest span"
                    hx-swap="outerHTML"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    class="text-blue-600 hover:text-blue-800 focus:outline-none"
                    title="Remove tag">
                ×
            </button>
        </span>
    {% empty %}
        <span class="text-sm text-gray-400">No tags</span>
    {% endfor %}
    <!-- Add Tag Form (HTMX) -->
    <form hx-post="{% url 'gallery:gallery_add_tag' object_id %}"
          hx-target="closest div"
          hx-swap="outerHTML"
          class="inline-flex gap-1">
        <input type="text" 
               name="tag" 
               placeholder="Add tag..." 
               class="px-2 py-1 border border-gray-300 rounded text-sm"
               required>
        <button type="submit" class="px-2 py-1 bg-blue-600 text-white rounded text-sm">+</button>
    </form>
{% elif object_type == 'album' %}
    {% for tag in object.tags.all %}
        <span class="inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded">
            {{ tag.name }}
            <button type="button" hx-post="{% url 'gallery:album_remove_tag' object_id %}"
                    hx-vals='{"tag": "{{ tag.name }}"}'
                    hx-target="closest span"
                    hx-swap="outerHTML"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    class="text-blue-600 hover:text-blue-800 focus:outline-none"
                    title="Remove tag">
                ×
            </button>
        </span>
    {% empty %}
        <span class="text-sm text-gray-400">No tags</span>
    {% endfor %}
    <!-- Add Tag Form (HTMX) -->
    <form hx-post="{% url 'gallery:album_add_tag' object_id %}"
          hx-target="closest div"
          hx-swap="outerHTML"
          class="inline-flex gap-1">
        <input type="text" 
               name="tag" 
               placeholder="Add tag..." 
               class="px-2 py-1 border border-gray-300 rounded text-sm"
               required>
        <button type="submit" class="px-2 py-1 bg-blue-600 text-white rounded text-sm">+</button>
    </form>
{% endif %}
